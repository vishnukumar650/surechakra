{"ast":null,"code":"import _slicedToArray from\"/home/bew4k00f/Desktop/surechakra/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/home/bew4k00f/Desktop/surechakra/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useReducer,useEffect}from\"react\";// Set Theme on Load\nvar setThemeOnLoad=function setThemeOnLoad(darkTheme){var THEME={LIGHT:'light',DARK:'dark'};var html=window.document.documentElement;var val=darkTheme?THEME.DARK:THEME.LIGHT;html.classList.add(val);};// Reducer : initial value\nvar initialState={isMenuOpen:false,darkTheme:false};// Reducer Action Function\nvar reducer=function reducer(state,action){switch(action.type){case\"TOGGLE_MENU\":return _objectSpread(_objectSpread({},state),{},{isMenuOpen:!state.isMenuOpen});case\"CLOSE_MENU\":return _objectSpread(_objectSpread({},state),{},{isMenuOpen:false});case\"CHANGE_THEME\":{toggleTheme(!state.darkTheme);return _objectSpread(_objectSpread({},state),{},{darkTheme:!state.darkTheme});}case\"SET_THEME\":{setThemeOnLoad(state.darkTheme);return state;}default:return state;}};// Local Storage: Save\nfunction getSavedValue(key){var value=JSON.parse(localStorage.getItem(key));if(value===null){return initialState;}return value;}// Append Dark Theme: Tailwind CSS\nfunction toggleTheme(isDarkTheme){var THEME={LIGHT:'light',DARK:'dark'};var html=window.document.documentElement;var val=isDarkTheme?THEME.DARK:THEME.LIGHT;html.classList.add(val);html.classList.remove(val===THEME.LIGHT?THEME.DARK:THEME.LIGHT);}// Custom Hooks for Persist\nexport default function useAppPersist(key){var _useReducer=useReducer(reducer,initialState,function(){return getSavedValue(key);}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){localStorage.setItem(key,JSON.stringify(state));},[state,key]);return[state,dispatch];}","map":{"version":3,"names":["useReducer","useEffect","setThemeOnLoad","darkTheme","THEME","LIGHT","DARK","html","window","document","documentElement","val","classList","add","initialState","isMenuOpen","reducer","state","action","type","toggleTheme","getSavedValue","key","value","JSON","parse","localStorage","getItem","isDarkTheme","remove","useAppPersist","dispatch","setItem","stringify"],"sources":["/home/bew4k00f/Desktop/surechakra/src/functions/useAppPersist.jsx"],"sourcesContent":["import  { useReducer, useEffect } from \"react\"\n\n\n// Set Theme on Load\nconst setThemeOnLoad = (darkTheme) => {\n  const THEME = { LIGHT: 'light', DARK: 'dark' }\n  let html = window.document.documentElement\n  let val = darkTheme ? THEME.DARK: THEME.LIGHT\n  html.classList.add(val)\n}\n  \n// Reducer : initial value\nconst initialState = { isMenuOpen: false, darkTheme: false }\n  \n// Reducer Action Function\nconst reducer = (state, action) => {\n    switch(action.type){\n      case `TOGGLE_MENU`:\n        return { ...state, isMenuOpen: !state.isMenuOpen }\n      case `CLOSE_MENU`:\n        return { ...state, isMenuOpen: false }\n      case `CHANGE_THEME`: {\n        toggleTheme(!state.darkTheme)\n        return { ...state, darkTheme: !state.darkTheme }\n        }\n      case `SET_THEME`: {\n        setThemeOnLoad(state.darkTheme)\n        return state\n      }\n      default:\n        return state\n    }\n}\n\n// Local Storage: Save\nfunction getSavedValue(key){\n    let value = JSON.parse(localStorage.getItem(key))\n    if(value === null){ return initialState }\n    return value\n}\n\n// Append Dark Theme: Tailwind CSS\nfunction toggleTheme(isDarkTheme){\n    const THEME = { LIGHT: 'light', DARK: 'dark' }\n    let html = window.document.documentElement\n    let val = isDarkTheme ? THEME.DARK: THEME.LIGHT\n    html.classList.add(val)\n    html.classList.remove((val===THEME.LIGHT)?THEME.DARK:THEME.LIGHT)\n}\n\n// Custom Hooks for Persist\nexport default function useAppPersist(key){\n    const [state, dispatch] = useReducer(reducer, initialState, ()=>{\n        return getSavedValue(key)\n    })\n\n    useEffect(() => {\n        localStorage.setItem(key, JSON.stringify(state))\n    }, [state, key])\n\n    return [state, dispatch]\n}"],"mappings":"6OAAA,OAAUA,UAAV,CAAsBC,SAAtB,KAAuC,OAAvC,CAGA;AACA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,CAACC,SAAD,CAAe,CACpC,GAAMC,MAAK,CAAG,CAAEC,KAAK,CAAE,OAAT,CAAkBC,IAAI,CAAE,MAAxB,CAAd,CACA,GAAIC,KAAI,CAAGC,MAAM,CAACC,QAAP,CAAgBC,eAA3B,CACA,GAAIC,IAAG,CAAGR,SAAS,CAAGC,KAAK,CAACE,IAAT,CAAeF,KAAK,CAACC,KAAxC,CACAE,IAAI,CAACK,SAAL,CAAeC,GAAf,CAAmBF,GAAnB,EACD,CALD,CAOA;AACA,GAAMG,aAAY,CAAG,CAAEC,UAAU,CAAE,KAAd,CAAqBZ,SAAS,CAAE,KAAhC,CAArB,CAEA;AACA,GAAMa,QAAO,CAAG,QAAVA,QAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CAC/B,OAAOA,MAAM,CAACC,IAAd,EACE,kBACE,sCAAYF,KAAZ,MAAmBF,UAAU,CAAE,CAACE,KAAK,CAACF,UAAtC,GACF,iBACE,sCAAYE,KAAZ,MAAmBF,UAAU,CAAE,KAA/B,GACF,mBAAqB,CACnBK,WAAW,CAAC,CAACH,KAAK,CAACd,SAAR,CAAX,CACA,sCAAYc,KAAZ,MAAmBd,SAAS,CAAE,CAACc,KAAK,CAACd,SAArC,GACC,CACH,gBAAkB,CAChBD,cAAc,CAACe,KAAK,CAACd,SAAP,CAAd,CACA,MAAOc,MAAP,CACD,CACD,QACE,MAAOA,MAAP,CAdJ,CAgBH,CAjBD,CAmBA;AACA,QAASI,cAAT,CAAuBC,GAAvB,CAA2B,CACvB,GAAIC,MAAK,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBL,GAArB,CAAX,CAAZ,CACA,GAAGC,KAAK,GAAK,IAAb,CAAkB,CAAE,MAAOT,aAAP,CAAqB,CACzC,MAAOS,MAAP,CACH,CAED;AACA,QAASH,YAAT,CAAqBQ,WAArB,CAAiC,CAC7B,GAAMxB,MAAK,CAAG,CAAEC,KAAK,CAAE,OAAT,CAAkBC,IAAI,CAAE,MAAxB,CAAd,CACA,GAAIC,KAAI,CAAGC,MAAM,CAACC,QAAP,CAAgBC,eAA3B,CACA,GAAIC,IAAG,CAAGiB,WAAW,CAAGxB,KAAK,CAACE,IAAT,CAAeF,KAAK,CAACC,KAA1C,CACAE,IAAI,CAACK,SAAL,CAAeC,GAAf,CAAmBF,GAAnB,EACAJ,IAAI,CAACK,SAAL,CAAeiB,MAAf,CAAuBlB,GAAG,GAAGP,KAAK,CAACC,KAAb,CAAoBD,KAAK,CAACE,IAA1B,CAA+BF,KAAK,CAACC,KAA3D,EACH,CAED;AACA,cAAe,SAASyB,cAAT,CAAuBR,GAAvB,CAA2B,CACtC,gBAA0BtB,UAAU,CAACgB,OAAD,CAAUF,YAAV,CAAwB,UAAI,CAC5D,MAAOO,cAAa,CAACC,GAAD,CAApB,CACH,CAFmC,CAApC,4CAAOL,KAAP,iBAAcc,QAAd,iBAIA9B,SAAS,CAAC,UAAM,CACZyB,YAAY,CAACM,OAAb,CAAqBV,GAArB,CAA0BE,IAAI,CAACS,SAAL,CAAehB,KAAf,CAA1B,EACH,CAFQ,CAEN,CAACA,KAAD,CAAQK,GAAR,CAFM,CAAT,CAIA,MAAO,CAACL,KAAD,CAAQc,QAAR,CAAP,CACH"},"metadata":{},"sourceType":"module"}