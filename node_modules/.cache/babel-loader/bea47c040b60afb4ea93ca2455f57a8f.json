{"ast":null,"code":"import _slicedToArray from\"/home/bew4k00f/Desktop/surechakra/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/home/bew4k00f/Desktop/surechakra/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useRef,useReducer}from'react';import{Play,Pause}from'../static/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={isPaused:false,count:1,isComplete:false,freq:9};var ACTION={TOGGLE:'TOGGLE',COUNT_INC:'COUNT_INC',END_LOOP:'END_LOOP',RESTART:'RESTART',CONTINUE:'CONTINUE',FREQUENCY:'FREQUENCY'};var reducer=function reducer(state,action){switch(action.type){case ACTION.TOGGLE:return _objectSpread(_objectSpread({},state),{},{isPaused:!state.isPaused});case ACTION.COUNT_INC:return _objectSpread(_objectSpread({},state),{},{count:state.count+1});case ACTION.END_LOOP:return _objectSpread(_objectSpread({},state),{},{isPaused:false,count:1,isComplete:true});case ACTION.RESTART:return _objectSpread(_objectSpread({},state),{},{isPaused:false,count:1,isComplete:false});case ACTION.CONTINUE:return _objectSpread(_objectSpread({},state),{},{isComplete:false});case ACTION.FREQUENCY:return _objectSpread(_objectSpread({},state),{},{freq:action.number});default:return state;}};export default function PlayAudio(_ref){var AUDIO=_ref.AUDIO,chant=_ref.chant,tailwindStyle=_ref.tailwindStyle;var audioRef=useRef();var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],isComplete=_useReducer2$.isComplete,count=_useReducer2$.count,isPaused=_useReducer2$.isPaused,freq=_useReducer2$.freq,dispatch=_useReducer2[1];var playPause=function playPause(){if(!isPaused){audioRef.current.play();}else{audioRef.current.pause();}if(!isPaused&&isComplete){dispatch({type:ACTION.RESTART});}dispatch({type:ACTION.TOGGLE});};var playLoop=function playLoop(){dispatch({type:ACTION.CONTINUE});if(isPaused&&count<freq){audioRef.current.play();dispatch({type:ACTION.COUNT_INC});}else{audioRef.current.pause();dispatch({type:ACTION.END_LOOP});}};var restartAudio=function restartAudio(){audioRef.current.pause();dispatch({type:ACTION.RESTART});};var onValueChange=function onValueChange(){};var onFrequencyChange=function onFrequencyChange(ev){if(ev.target.value>0){dispatch({type:ACTION.FREQUENCY,number:ev.target.value});}else{dispatch({type:ACTION.FREQUENCY,number:1});}};return/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 mb-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-slate-700 rounded-lg shadow-lg p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mb-4\",children:[/*#__PURE__*/_jsx(\"audio\",{controls:\"controls\",preload:\"auto\",autobuffer:\"true\",style:{display:\"none\"},ref:audioRef,onEnded:playLoop,children:/*#__PURE__*/_jsx(\"source\",{src:AUDIO})}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex justify-center py-4 focus-visible:outline-none\",onClick:playPause,children:[\" \",!isPaused?/*#__PURE__*/_jsx(Play,{}):/*#__PURE__*/_jsx(Pause,{}),\" \"]}),/*#__PURE__*/_jsx(\"input\",{className:\"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg dark:bg-slate-600\",type:\"range\",min:\"0\",max:freq,value:count-1,onChange:onValueChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center py-6 px-8\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-6xl font-bold pb-4\",children:chant}),/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-semibold\",children:isComplete?\"Done\":\"\".concat(Math.round((count-1)/freq*100),\"% Completed\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center py-6 px-8\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-semibold\",children:\"\".concat(count,\" / \").concat(freq)}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"1\",max:\"108\",onChange:onFrequencyChange,className:\"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg dark:bg-slate-600\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"button\",{className:tailwindStyle,onClick:restartAudio,children:\" Restart \"})})]})]})]})})});}","map":{"version":3,"names":["React","useRef","useReducer","Play","Pause","initialState","isPaused","count","isComplete","freq","ACTION","TOGGLE","COUNT_INC","END_LOOP","RESTART","CONTINUE","FREQUENCY","reducer","state","action","type","number","PlayAudio","AUDIO","chant","tailwindStyle","audioRef","dispatch","playPause","current","play","pause","playLoop","restartAudio","onValueChange","onFrequencyChange","ev","target","value","display","Math","round"],"sources":["/home/bew4k00f/Desktop/surechakra/src/components/PlayAudio.jsx"],"sourcesContent":["import React, { useRef, useReducer } from 'react'\nimport { Play, Pause } from '../static/icons'\n\n\nconst initialState = { isPaused: false, count: 1, isComplete: false, freq: 9 }\n\nconst ACTION = {\n    TOGGLE: 'TOGGLE',\n    COUNT_INC: 'COUNT_INC',\n    END_LOOP: 'END_LOOP',\n    RESTART: 'RESTART',\n    CONTINUE: 'CONTINUE',\n    FREQUENCY: 'FREQUENCY',\n}\n\nconst reducer = (state, action) => {\n    switch(action.type){\n        case ACTION.TOGGLE:\n            return { ...state, isPaused: !state.isPaused }\n        case ACTION.COUNT_INC:\n            return { ...state, count: state.count+1 }\n        case ACTION.END_LOOP:\n            return { ...state, isPaused: false, count:1, isComplete: true }\n        case ACTION.RESTART:\n            return { ...state, isPaused: false, count: 1, isComplete: false }\n        case ACTION.CONTINUE:\n            return { ...state, isComplete: false }\n        case ACTION.FREQUENCY:\n            return { ...state, freq: action.number }\n        default:\n            return state\n    }\n}\n\n\nexport default function PlayAudio({ AUDIO, chant, tailwindStyle }) {\n\n    const audioRef = useRef()\n    const [{isComplete, count, isPaused, freq}, dispatch] = useReducer(reducer, initialState)\n  \n  \n    const playPause = () => {\n        if(!isPaused) { audioRef.current.play() }\n        else { audioRef.current.pause() }\n\n        if(!isPaused && isComplete){\n          dispatch({ type: ACTION.RESTART })\n        }\n\n        dispatch({type: ACTION.TOGGLE})\n    }\n  \n    const playLoop = () => {\n        dispatch({type: ACTION.CONTINUE})\n        if(isPaused && count < freq){\n            audioRef.current.play()\n            dispatch({type: ACTION.COUNT_INC})\n        }else{\n            audioRef.current.pause()\n            dispatch({type: ACTION.END_LOOP})\n        }\n    }\n  \n    const restartAudio = () => {\n        audioRef.current.pause()\n        dispatch({type: ACTION.RESTART})\n    }\n  \n    const onValueChange = () => {}\n  \n    const onFrequencyChange = (ev) => {\n      if(ev.target.value > 0){\n        dispatch({ type: ACTION.FREQUENCY, number: ev.target.value })\n      }else{\n        dispatch({ type: ACTION.FREQUENCY, number: 1 })\n      }\n    }\n\n\n  return (\n    <div className='grid grid-cols-1 mb-8'>\n    <div className='bg-white dark:bg-slate-700 rounded-lg shadow-lg p-8'>\n    \n      <div className='grid grid-cols-1 lg:grid-cols-2'>\n\n        <div className='flex flex-col mb-4'>\n          <audio controls=\"controls\" preload=\"auto\" autobuffer=\"true\" style={{ display: \"none\" }} ref={audioRef} onEnded={playLoop}>\n            <source src={AUDIO} />\n          </audio>\n          <button className='flex justify-center py-4 focus-visible:outline-none' onClick={playPause}> { !isPaused ? <Play/>: <Pause/>} </button>\n          <input className='w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg dark:bg-slate-600' type=\"range\" min=\"0\" max={freq} value={count-1} onChange={onValueChange}></input>\n        </div>\n\n        <div className='grid grid-cols-1 md:grid-cols-2'>\n          <div className='flex flex-col items-center justify-center py-6 px-8'>\n            <span className='text-6xl font-bold pb-4'>{chant}</span>\n            <span className='text-2xl font-semibold'>\n            { isComplete ? `Done`: `${(Math.round(((count-1)/freq)*100))}% Completed`}\n            </span>\n          </div>\n          <div className='flex flex-col items-center justify-center py-6 px-8'>\n            <span className='text-2xl font-semibold'>{ `${count} / ${freq}` }</span>\n            <span>\n              <input type=\"range\" min=\"1\" max=\"108\" onChange={onFrequencyChange} \n              className='w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg dark:bg-slate-600'></input>\n            </span>\n            <span className='mt-4'>\n              <button className={tailwindStyle} onClick={restartAudio}> Restart </button>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}