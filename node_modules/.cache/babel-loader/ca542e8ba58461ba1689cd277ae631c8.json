{"ast":null,"code":"var _jsxFileName = \"/home/bew4k00f/Desktop/surechakra/src/components/PlayAudio.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useReducer } from 'react';\nimport { Play, Pause } from '../static/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  isPaused: false,\n  count: 1,\n  isComplete: false,\n  freq: 9\n};\nconst ACTION = {\n  TOGGLE: 'TOGGLE',\n  COUNT_INC: 'COUNT_INC',\n  END_LOOP: 'END_LOOP',\n  RESTART: 'RESTART',\n  CONTINUE: 'CONTINUE',\n  FREQUENCY: 'FREQUENCY'\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case ACTION.TOGGLE:\n      return { ...state,\n        isPaused: !state.isPaused\n      };\n\n    case ACTION.COUNT_INC:\n      return { ...state,\n        count: state.count + 1\n      };\n\n    case ACTION.END_LOOP:\n      return { ...state,\n        isPaused: false,\n        count: 1,\n        isComplete: true\n      };\n\n    case ACTION.RESTART:\n      return { ...state,\n        isPaused: false,\n        count: 1,\n        isComplete: false\n      };\n\n    case ACTION.CONTINUE:\n      return { ...state,\n        isComplete: false\n      };\n\n    case ACTION.FREQUENCY:\n      return { ...state,\n        freq: action.number\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default function PlayAudio(_ref) {\n  _s();\n\n  let {\n    AUDIO,\n    chant,\n    tailwindStyle\n  } = _ref;\n  const audioRef = useRef();\n  const [{\n    isComplete,\n    count,\n    isPaused,\n    freq\n  }, dispatch] = useReducer(reducer, initialState);\n\n  const playPause = () => {\n    if (!isPaused) {\n      audioRef.current.play();\n    } else {\n      audioRef.current.pause();\n    }\n\n    if (!isPaused && isComplete) {\n      dispatch({\n        type: ACTION.RESTART\n      });\n    }\n\n    dispatch({\n      type: ACTION.TOGGLE\n    });\n  };\n\n  const playLoop = () => {\n    dispatch({\n      type: ACTION.CONTINUE\n    });\n\n    if (isPaused && count < freq) {\n      audioRef.current.play();\n      dispatch({\n        type: ACTION.COUNT_INC\n      });\n    } else {\n      audioRef.current.pause();\n      dispatch({\n        type: ACTION.END_LOOP\n      });\n    }\n  };\n\n  const restartAudio = () => {\n    audioRef.current.pause();\n    dispatch({\n      type: ACTION.RESTART\n    });\n  };\n\n  const onValueChange = () => {};\n\n  const onFrequencyChange = ev => {\n    if (ev.target.value > 0) {\n      dispatch({\n        type: ACTION.FREQUENCY,\n        number: ev.target.value\n      });\n    } else {\n      dispatch({\n        type: ACTION.FREQUENCY,\n        number: 1\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-1 mb-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white dark:bg-slate-700 rounded-lg shadow-lg p-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n            controls: \"controls\",\n            preload: \"auto\",\n            autobuffer: \"true\",\n            style: {\n              display: \"none\"\n            },\n            ref: audioRef,\n            onEnded: playLoop,\n            children: /*#__PURE__*/_jsxDEV(\"source\", {\n              src: AUDIO\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"flex justify-center py-4 focus-visible:outline-none\",\n            onClick: playPause,\n            children: [\" \", !isPaused ? /*#__PURE__*/_jsxDEV(Play, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 118\n            }, this) : /*#__PURE__*/_jsxDEV(Pause, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 127\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg dark:bg-slate-600\",\n            type: \"range\",\n            min: \"0\",\n            max: freq,\n            value: count - 1,\n            onChange: onValueChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center justify-center py-6 px-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-6xl font-bold pb-4\",\n              children: chant\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-2xl font-semibold\",\n              children: isComplete ? `Done` : `${Math.round((count - 1) / freq * 100)}% Completed`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center justify-center py-6 px-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-2xl font-semibold\",\n              children: `${count} / ${freq}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"1\",\n                max: \"108\",\n                onChange: onFrequencyChange,\n                className: \"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg dark:bg-slate-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mt-4\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: tailwindStyle,\n                onClick: restartAudio,\n                children: \" Restart \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PlayAudio, \"ZL9bXIRWnTXaVO1eaYF0WiXTBJc=\");\n\n_c = PlayAudio;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlayAudio\");","map":{"version":3,"names":["React","useRef","useReducer","Play","Pause","initialState","isPaused","count","isComplete","freq","ACTION","TOGGLE","COUNT_INC","END_LOOP","RESTART","CONTINUE","FREQUENCY","reducer","state","action","type","number","PlayAudio","AUDIO","chant","tailwindStyle","audioRef","dispatch","playPause","current","play","pause","playLoop","restartAudio","onValueChange","onFrequencyChange","ev","target","value","display","Math","round"],"sources":["/home/bew4k00f/Desktop/surechakra/src/components/PlayAudio.jsx"],"sourcesContent":["import React, { useRef, useReducer } from 'react'\nimport { Play, Pause } from '../static/icons'\n\n\nconst initialState = { isPaused: false, count: 1, isComplete: false, freq: 9 }\n\nconst ACTION = {\n    TOGGLE: 'TOGGLE',\n    COUNT_INC: 'COUNT_INC',\n    END_LOOP: 'END_LOOP',\n    RESTART: 'RESTART',\n    CONTINUE: 'CONTINUE',\n    FREQUENCY: 'FREQUENCY',\n}\n\nconst reducer = (state, action) => {\n    switch(action.type){\n        case ACTION.TOGGLE:\n            return { ...state, isPaused: !state.isPaused }\n        case ACTION.COUNT_INC:\n            return { ...state, count: state.count+1 }\n        case ACTION.END_LOOP:\n            return { ...state, isPaused: false, count:1, isComplete: true }\n        case ACTION.RESTART:\n            return { ...state, isPaused: false, count: 1, isComplete: false }\n        case ACTION.CONTINUE:\n            return { ...state, isComplete: false }\n        case ACTION.FREQUENCY:\n            return { ...state, freq: action.number }\n        default:\n            return state\n    }\n}\n\n\nexport default function PlayAudio({ AUDIO, chant, tailwindStyle }) {\n\n    const audioRef = useRef()\n    const [{isComplete, count, isPaused, freq}, dispatch] = useReducer(reducer, initialState)\n  \n  \n    const playPause = () => {\n        if(!isPaused) { audioRef.current.play() }\n        else { audioRef.current.pause() }\n\n        if(!isPaused && isComplete){\n          dispatch({ type: ACTION.RESTART })\n        }\n\n        dispatch({type: ACTION.TOGGLE})\n    }\n  \n    const playLoop = () => {\n        dispatch({type: ACTION.CONTINUE})\n        if(isPaused && count < freq){\n            audioRef.current.play()\n            dispatch({type: ACTION.COUNT_INC})\n        }else{\n            audioRef.current.pause()\n            dispatch({type: ACTION.END_LOOP})\n        }\n    }\n  \n    const restartAudio = () => {\n        audioRef.current.pause()\n        dispatch({type: ACTION.RESTART})\n    }\n  \n    const onValueChange = () => {}\n  \n    const onFrequencyChange = (ev) => {\n      if(ev.target.value > 0){\n        dispatch({ type: ACTION.FREQUENCY, number: ev.target.value })\n      }else{\n        dispatch({ type: ACTION.FREQUENCY, number: 1 })\n      }\n    }\n\n\n  return (\n    <div className='grid grid-cols-1 mb-8'>\n    <div className='bg-white dark:bg-slate-700 rounded-lg shadow-lg p-8'>\n    \n      <div className='grid grid-cols-1 lg:grid-cols-2'>\n\n        <div className='flex flex-col mb-4'>\n          <audio controls=\"controls\" preload=\"auto\" autobuffer=\"true\" style={{ display: \"none\" }} ref={audioRef} onEnded={playLoop}>\n            <source src={AUDIO} />\n          </audio>\n          <button className='flex justify-center py-4 focus-visible:outline-none' onClick={playPause}> { !isPaused ? <Play/>: <Pause/>} </button>\n          <input className='w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg dark:bg-slate-600' type=\"range\" min=\"0\" max={freq} value={count-1} onChange={onValueChange}></input>\n        </div>\n\n        <div className='grid grid-cols-1 md:grid-cols-2'>\n          <div className='flex flex-col items-center justify-center py-6 px-8'>\n            <span className='text-6xl font-bold pb-4'>{chant}</span>\n            <span className='text-2xl font-semibold'>\n            { isComplete ? `Done`: `${(Math.round(((count-1)/freq)*100))}% Completed`}\n            </span>\n          </div>\n          <div className='flex flex-col items-center justify-center py-6 px-8'>\n            <span className='text-2xl font-semibold'>{ `${count} / ${freq}` }</span>\n            <span>\n              <input type=\"range\" min=\"1\" max=\"108\" onChange={onFrequencyChange} \n              className='w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg dark:bg-slate-600'></input>\n            </span>\n            <span className='mt-4'>\n              <button className={tailwindStyle} onClick={restartAudio}> Restart </button>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}